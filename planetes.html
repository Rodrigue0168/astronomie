<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Les planètes du système solaire</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="landscape"></div>
  <canvas id="canvas"></canvas>
  <a href="index.html" class="btn-planete">Retour à l'accueil</a>
  <nav class="menu-planetes">
    <div class="menu-item-group">
      <a href="mercure.html" class="menu-item" title="Mercure">
  <img src="mercure.svg" alt="Mercure" class="menu-img" />
      </a>
      <span class="menu-label">Mercure</span>
    </div>
    <div class="menu-item-group">
      <a href="venus.html" class="menu-item" title="Vénus">
  <img src="venus.svg" alt="Vénus" class="menu-img" />
      </a>
      <span class="menu-label">Vénus</span>
    </div>
    <div class="menu-item-group">
      <a href="terre.html" class="menu-item" title="Terre">
  <img src="terre.svg" alt="Terre" class="menu-img" />
      </a>
      <span class="menu-label">Terre</span>
    </div>
    <div class="menu-item-group">
      <a href="mars.html" class="menu-item" title="Mars">
  <img src="mars.svg" alt="Mars" class="menu-img" />
      </a>
      <span class="menu-label">Mars</span>
    </div>
    <div class="menu-item-group">
      <a href="jupiter.html" class="menu-item" title="Jupiter">
  <img src="jupiter.svg" alt="Jupiter" class="menu-img" />
      </a>
      <span class="menu-label">Jupiter</span>
    </div>
    <div class="menu-item-group">
      <a href="saturne.html" class="menu-item" title="Saturne">
  <img src="saturne.svg" alt="Saturne" class="menu-img" />
      </a>
      <span class="menu-label">Saturne</span>
    </div>
    <div class="menu-item-group">
      <a href="uranus.html" class="menu-item" title="Uranus">
  <img src="uranus.svg" alt="Uranus" class="menu-img" />
      </a>
      <span class="menu-label">Uranus</span>
    </div>
    <div class="menu-item-group">
      <a href="neptune.html" class="menu-item" title="Neptune">
  <img src="neptune.svg" alt="Neptune" class="menu-img" />
      </a>
      <span class="menu-label">Neptune</span>
    </div>
  </nav>
  <h1>Les planètes du système solaire</h1>

  <script>
    // Code original du CodePen pour l'effet constellation
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    var width = window.innerWidth;
    var height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;

    var mouse = { x: width / 2, y: height / 2, active: false };
    var params = { backgroundSpeed: 0 };

    function Star(id, x, y) {
      this.id = id;
      this.x = x;
      this.y = y;
      this.r = Math.floor(Math.random() * 2) + 1;
      var alpha = (Math.floor(Math.random() * 10) + 1) / 10 / 2;
      this.color = "rgba(255,255,255," + alpha + ")";
    }
    Star.prototype.draw = function () {
      ctx.save();
      ctx.fillStyle = this.color;
      ctx.shadowColor = '#fff';
      ctx.shadowBlur = this.r * 2;
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.r, 0, 2 * Math.PI, false);
      ctx.closePath();
      ctx.fill();
      ctx.restore();
    };
    Star.prototype.move = function () {
      this.y -= 0.15 + params.backgroundSpeed / 100;
      if (this.y < 0) {
        this.y = height;
        this.x = Math.random() * width;
      }
    };

    var stars = [];
    function createStars() {
      stars = [];
      for (var i = 0; i < width * 0.3; i++) {
        stars.push(new Star(i, Math.random() * width, Math.random() * height));
      }
    }
    createStars();

    var fade = 0;
    function drawConstellation() {
      if (fade <= 0) return;
      var mouseStars = [];
      for (var i = 0; i < stars.length; i++) {
        var star = stars[i];
        var dist = Math.sqrt(Math.pow(mouse.x - star.x, 2) + Math.pow(mouse.y - star.y, 2));
        if (dist < 60) {
          mouseStars.push(star);
          ctx.save();
          ctx.beginPath();
          ctx.moveTo(mouse.x, mouse.y);
          ctx.lineTo(star.x, star.y);
          ctx.strokeStyle = 'rgba(255,255,255,' + fade + ')';
          ctx.lineWidth = 1.5;
          ctx.stroke();
          ctx.closePath();
          ctx.restore();
        }
      }
      for (var i = 0; i < mouseStars.length; i++) {
        for (var j = i + 1; j < mouseStars.length; j++) {
          var starA = mouseStars[i];
          var starB = mouseStars[j];
          var dist = Math.sqrt(Math.pow(starA.x - starB.x, 2) + Math.pow(starA.y - starB.y, 2));
          if (dist < 50) {
            ctx.save();
            ctx.beginPath();
            ctx.moveTo(starA.x, starA.y);
            ctx.lineTo(starB.x, starB.y);
            ctx.strokeStyle = 'rgba(255,255,255,' + fade + ')';
            ctx.lineWidth = 1;
            ctx.stroke();
            ctx.closePath();
            ctx.restore();
          }
        }
      }
    }

    function animate() {
      ctx.clearRect(0, 0, width, height);
      for (var i = 0; i < stars.length; i++) {
        stars[i].draw();
        stars[i].move();
      }
      if (mouse.active) {
        fade += 0.08;
        if (fade > 1) fade = 1;
      } else {
        fade -= 0.04;
        if (fade < 0) fade = 0;
      }
      drawConstellation();
      requestAnimationFrame(animate);
    }
    animate();

    window.addEventListener('resize', function () {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
      createStars();
    });

    document.addEventListener('mousemove', function (e) {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
      params.backgroundSpeed = Math.abs(mouse.x - width / 2) / 20;
      mouse.active = true;
    });
    document.addEventListener('mouseleave', function () {
      mouse.active = false;
    });
    document.addEventListener('mousedown', function () {
      mouse.active = true;
    });
    document.addEventListener('mouseup', function () {
      mouse.active = false;
    });
  </script>
</body>
</html>
